{"openapi":"3.1.0","info":{"title":"Proxy Platform API","description":"Proxy Platform API: IP更换接口服务","version":"1.0.0"},"paths":{"/health":{"get":{"summary":"Health Check","description":"Health check.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint - returns the homepage.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/session/register":{"post":{"tags":["session"],"summary":"Register","description":"注册并立即返回会话状态。","operationId":"register_api_v1_session_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionEnvelope"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/login":{"post":{"tags":["session"],"summary":"Login","description":"登录并返回统一会话状态。","operationId":"login_api_v1_session_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionEnvelope"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/state":{"get":{"tags":["session"],"summary":"Session State","description":"获取当前用户的统一会话状态。","operationId":"session_state_api_v1_session_state_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionEnvelope"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/session/logout":{"post":{"tags":["session"],"summary":"Logout","description":"前端丢弃本地状态即可，这里仅返回统一响应。","operationId":"logout_api_v1_session_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionLogoutResponse"}}}}}}},"/api/v1/session/api-keys":{"get":{"tags":["session"],"summary":"List Api Keys","description":"列出当前用户的API密钥。","operationId":"list_api_keys_api_v1_session_api_keys_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/APIKeyResponse"},"type":"array","title":"Response List Api Keys Api V1 Session Api Keys Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["session"],"summary":"Create Api Key","description":"创建API密钥。","operationId":"create_api_key_api_v1_session_api_keys_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/session/api-keys/{key_id}":{"put":{"tags":["session"],"summary":"Rotate Api Key","description":"轮换指定API密钥。","operationId":"rotate_api_key_api_v1_session_api_keys__key_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["session"],"summary":"Delete Api Key","description":"删除API密钥。","operationId":"delete_api_key_api_v1_session_api_keys__key_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/change-password":{"post":{"tags":["session"],"summary":"Change Password","description":"修改当前账户密码。","operationId":"change_password_api_v1_session_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChange"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/proxy/products":{"get":{"tags":["proxy"],"summary":"Get Products","description":"获取产品列表","operationId":"get_products_api_v1_proxy_products_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"产品类别","title":"Category"},"description":"产品类别"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProxyProductResponse"},"title":"Response Get Products Api V1 Proxy Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/static/buy":{"post":{"tags":["proxy"],"summary":"Buy Static Proxy","description":"购买静态代理","operationId":"buy_static_proxy_api_v1_proxy_static_buy_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaticProxyPurchase"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/dynamic/buy":{"post":{"tags":["proxy"],"summary":"Buy Dynamic Proxy","description":"购买动态代理","operationId":"buy_dynamic_proxy_api_v1_proxy_dynamic_buy_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DynamicProxyPurchase"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/mobile/buy":{"post":{"tags":["proxy"],"summary":"Buy Mobile Proxy","description":"购买移动代理","operationId":"buy_mobile_proxy_api_v1_proxy_mobile_buy_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileProxyPurchase"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/list":{"get":{"tags":["proxy"],"summary":"Get Proxy List","description":"获取用户代理列表","operationId":"get_proxy_list_api_v1_proxy_list_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"代理类别","title":"Category"},"description":"代理类别"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"页码","default":1,"title":"Page"},"description":"页码"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"每页数量","default":20,"title":"Size"},"description":"每页数量"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/dynamic/{order_id}":{"get":{"tags":["proxy"],"summary":"Get Dynamic Proxy","description":"获取动态代理","operationId":"get_dynamic_proxy_api_v1_proxy_dynamic__order_id__get","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","title":"Order Id"}},{"name":"carrier","in":"query","required":false,"schema":{"type":"string","description":"运营商","default":"random","title":"Carrier"},"description":"运营商"},{"name":"province","in":"query","required":false,"schema":{"type":"string","description":"省份","default":"0","title":"Province"},"description":"省份"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/dynamic/token/{token}":{"get":{"tags":["proxy"],"summary":"Get Dynamic Proxy By Token","description":"通过上游token获取动态代理","operationId":"get_dynamic_proxy_by_token_api_v1_proxy_dynamic_token__token__get","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string","title":"Token"}},{"name":"carrier","in":"query","required":false,"schema":{"type":"string","description":"运营商","default":"random","title":"Carrier"},"description":"运营商"},{"name":"province","in":"query","required":false,"schema":{"type":"string","description":"省份","default":"0","title":"Province"},"description":"省份"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/mobile/{order_id}/reset":{"post":{"tags":["proxy"],"summary":"Reset Mobile Proxy","description":"Reset mobile proxy IP","operationId":"reset_mobile_proxy_api_v1_proxy_mobile__order_id__reset_post","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/mobile/token/{token}/reset":{"post":{"tags":["proxy"],"summary":"Reset Mobile Proxy By Token","description":"Reset mobile proxy IP via upstream token","operationId":"reset_mobile_proxy_by_token_api_v1_proxy_mobile_token__token__reset_post","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/stats":{"get":{"tags":["proxy"],"summary":"Get Proxy Stats","description":"获取代理统计信息","operationId":"get_proxy_stats_api_v1_proxy_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyStatsResponse"}}}}}}},"/api/v1/proxy/static/{order_id}/change":{"post":{"tags":["proxy"],"summary":"Change Static Proxy","description":"更换静态代理类型","operationId":"change_static_proxy_api_v1_proxy_static__order_id__change_post","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","title":"Order Id"}},{"name":"target_provider","in":"query","required":true,"schema":{"type":"string","description":"目标代理类型","title":"Target Provider"},"description":"目标代理类型"},{"name":"protocol","in":"query","required":false,"schema":{"type":"string","description":"协议类型","default":"HTTP","title":"Protocol"},"description":"协议类型"},{"name":"username","in":"query","required":false,"schema":{"type":"string","description":"用户名","default":"random","title":"Username"},"description":"用户名"},{"name":"password","in":"query","required":false,"schema":{"type":"string","description":"密码","default":"random","title":"Password"},"description":"密码"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/static/{order_id}/change-security":{"post":{"tags":["proxy"],"summary":"Change Proxy Security","description":"更改代理安全信息","operationId":"change_proxy_security_api_v1_proxy_static__order_id__change_security_post","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","title":"Order Id"}},{"name":"protocol","in":"query","required":false,"schema":{"type":"string","description":"协议类型","default":"HTTP","title":"Protocol"},"description":"协议类型"},{"name":"username","in":"query","required":false,"schema":{"type":"string","description":"用户名","default":"random","title":"Username"},"description":"用户名"},{"name":"password","in":"query","required":false,"schema":{"type":"string","description":"密码","default":"random","title":"Password"},"description":"密码"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/static/{order_id}/renew":{"post":{"tags":["proxy"],"summary":"Renew Static Proxy","description":"续费静态代理（按原套餐时长自动续费）","operationId":"renew_static_proxy_api_v1_proxy_static__order_id__renew_post","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/static/export":{"get":{"tags":["proxy"],"summary":"Export Static Proxies","description":"导出所有静态代理为txt格式","operationId":"export_static_proxies_api_v1_proxy_static_export_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/proxy/dynamic/export":{"get":{"tags":["proxy"],"summary":"Export Dynamic Proxies","description":"导出所有动态代理的key","operationId":"export_dynamic_proxies_api_v1_proxy_dynamic_export_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/proxy/static/upstream-list":{"get":{"tags":["proxy"],"summary":"Get Upstream Proxy List","description":"获取上游代理列表","operationId":"get_upstream_proxy_list_api_v1_proxy_static_upstream_list_get","parameters":[{"name":"provider","in":"query","required":true,"schema":{"type":"string","description":"代理类型","title":"Provider"},"description":"代理类型"},{"name":"proxy_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"代理ID，为all获取所有","title":"Proxy Id"},"description":"代理ID，为all获取所有"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/proxy/static/providers":{"get":{"tags":["proxy"],"summary":"Get Supported Providers","description":"获取支持的静态代理类型","operationId":"get_supported_providers_api_v1_proxy_static_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/orders/":{"get":{"tags":["orders"],"summary":"Get Orders","description":"获取用户订单列表","operationId":"get_orders_api_v1_orders__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Size"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/OrderStatus"},{"type":"null"}],"title":"Status"}},{"name":"order_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/OrderType"},{"type":"null"}],"title":"Order Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/{order_id}":{"get":{"tags":["orders"],"summary":"Get Order","description":"获取订单详情","operationId":"get_order_api_v1_orders__order_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/recharge":{"post":{"tags":["orders"],"summary":"Recharge Balance","description":"用户充值","operationId":"recharge_balance_api_v1_orders_recharge_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RechargeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RechargeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/orders/payments/{payment_id}":{"get":{"tags":["orders"],"summary":"Get Payment","description":"获取支付详情","operationId":"get_payment_api_v1_orders_payments__payment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/payments/callback":{"post":{"tags":["orders"],"summary":"Payment Callback","description":"支付回调接口","operationId":"payment_callback_api_v1_orders_payments_callback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCallback"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/balance/logs":{"get":{"tags":["orders"],"summary":"Get Balance Logs","description":"获取余额变动日志","operationId":"get_balance_logs_api_v1_orders_balance_logs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BalanceLogResponse"},"title":"Response Get Balance Logs Api V1 Orders Balance Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/transactions/{transaction_id}":{"get":{"tags":["orders"],"summary":"Get Transaction","description":"获取交易详情","operationId":"get_transaction_api_v1_orders_transactions__transaction_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/payments/{payment_id}/monitor":{"get":{"tags":["orders"],"summary":"Monitor Payment","description":"监控支付状态","operationId":"monitor_payment_api_v1_orders_payments__payment_id__monitor_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/payments/{payment_id}/qrcode":{"get":{"tags":["orders"],"summary":"Get Payment Qrcode","description":"获取支付二维码","operationId":"get_payment_qrcode_api_v1_orders_payments__payment_id__qrcode_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/payments/{payment_id}/verify":{"post":{"tags":["orders"],"summary":"Verify Payment","description":"验证支付状态","operationId":"verify_payment_api_v1_orders_payments__payment_id__verify_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/crypto/currencies":{"get":{"tags":["orders"],"summary":"Get Supported Currencies","description":"获取支持的加密货币列表","operationId":"get_supported_currencies_api_v1_orders_crypto_currencies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/orders/crypto/rates/update":{"post":{"tags":["orders"],"summary":"Update Exchange Rates","description":"更新汇率","operationId":"update_exchange_rates_api_v1_orders_crypto_rates_update_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/admin/users":{"get":{"tags":["admin"],"summary":"Get Users","description":"获取用户列表","operationId":"get_users_api_v1_admin_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Size"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response Get Users Api V1 Admin Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}":{"get":{"tags":["admin"],"summary":"Get User","description":"获取用户详情","operationId":"get_user_api_v1_admin_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/toggle":{"put":{"tags":["admin"],"summary":"Toggle User Status","description":"切换用户状态","operationId":"toggle_user_status_api_v1_admin_users__user_id__toggle_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/adjust-balance":{"post":{"tags":["admin"],"summary":"Adjust User Balance","description":"调整用户余额","operationId":"adjust_user_balance_api_v1_admin_users__user_id__adjust_balance_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"amount","in":"query","required":true,"schema":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Amount"}},{"name":"description","in":"query","required":true,"schema":{"type":"string","title":"Description"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orders":{"get":{"tags":["admin"],"summary":"Get All Orders","description":"获取所有订单","operationId":"get_all_orders_api_v1_admin_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Size"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/OrderStatus"},{"type":"null"}],"title":"Status"}},{"name":"order_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/OrderType"},{"type":"null"}],"title":"Order Type"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orders/{order_id}":{"get":{"tags":["admin"],"summary":"Get Order Detail","description":"获取订单详情","operationId":"get_order_detail_api_v1_admin_orders__order_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orders/{order_id}/status":{"put":{"tags":["admin"],"summary":"Update Order Status","description":"更新订单状态","operationId":"update_order_status_api_v1_admin_orders__order_id__status_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}},{"name":"status","in":"query","required":true,"schema":{"$ref":"#/components/schemas/OrderStatus"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/payments":{"get":{"tags":["admin"],"summary":"Get All Payments","description":"获取所有支付记录","operationId":"get_all_payments_api_v1_admin_payments_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Size"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentResponse"},"title":"Response Get All Payments Api V1 Admin Payments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/stats/orders":{"get":{"tags":["admin"],"summary":"Get Order Statistics","description":"获取订单统计","operationId":"get_order_statistics_api_v1_admin_stats_orders_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderStats"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/stats/payments":{"get":{"tags":["admin"],"summary":"Get Payment Statistics","description":"获取支付统计","operationId":"get_payment_statistics_api_v1_admin_stats_payments_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentStats"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/stats/finance":{"get":{"tags":["admin"],"summary":"Get Finance Statistics","description":"获取财务统计","operationId":"get_finance_statistics_api_v1_admin_stats_finance_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinanceStats"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/stats/dashboard":{"get":{"tags":["admin"],"summary":"Get Dashboard Stats","description":"获取仪表板统计数据","operationId":"get_dashboard_stats_api_v1_admin_stats_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/proxy-products/stats":{"get":{"tags":["admin"],"summary":"Get Proxy Product Stats","description":"获取代理产品统计信息","operationId":"get_proxy_product_stats_api_v1_admin_proxy_products_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/proxy-products/categories":{"get":{"tags":["admin"],"summary":"Get Proxy Product Categories","description":"获取代理产品类别列表","operationId":"get_proxy_product_categories_api_v1_admin_proxy_products_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/proxy-products":{"get":{"tags":["admin"],"summary":"Get Proxy Products","description":"获取代理产品列表","operationId":"get_proxy_products_api_v1_admin_proxy_products_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Size"}},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProxyProductResponse"},"title":"Response Get Proxy Products Api V1 Admin Proxy Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Proxy Product","description":"创建代理产品","operationId":"create_proxy_product_api_v1_admin_proxy_products_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyProductCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/proxy-products/{product_id}":{"get":{"tags":["admin"],"summary":"Get Proxy Product","description":"获取代理产品详情","operationId":"get_proxy_product_api_v1_admin_proxy_products__product_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin"],"summary":"Update Proxy Product","description":"更新代理产品","operationId":"update_proxy_product_api_v1_admin_proxy_products__product_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyProductUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Proxy Product","description":"删除代理产品","operationId":"delete_proxy_product_api_v1_admin_proxy_products__product_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/proxy-products/{product_id}/toggle":{"put":{"tags":["admin"],"summary":"Toggle Proxy Product Status","description":"切换代理产品状态","operationId":"toggle_proxy_product_status_api_v1_admin_proxy_products__product_id__toggle_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/upstream-providers":{"get":{"tags":["admin"],"summary":"Get Upstream Providers","description":"获取上游提供商列表","operationId":"get_upstream_providers_api_v1_admin_upstream_providers_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Size"}},{"name":"api_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Type"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UpstreamProviderResponse"},"title":"Response Get Upstream Providers Api V1 Admin Upstream Providers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Upstream Provider","description":"创建上游提供商","operationId":"create_upstream_provider_api_v1_admin_upstream_providers_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpstreamProviderCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpstreamProviderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/upstream-providers/{provider_id}":{"get":{"tags":["admin"],"summary":"Get Upstream Provider","description":"获取上游提供商详情","operationId":"get_upstream_provider_api_v1_admin_upstream_providers__provider_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"provider_id","in":"path","required":true,"schema":{"type":"integer","title":"Provider Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpstreamProviderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin"],"summary":"Update Upstream Provider","description":"更新上游提供商","operationId":"update_upstream_provider_api_v1_admin_upstream_providers__provider_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"provider_id","in":"path","required":true,"schema":{"type":"integer","title":"Provider Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpstreamProviderUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpstreamProviderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Upstream Provider","description":"删除上游提供商","operationId":"delete_upstream_provider_api_v1_admin_upstream_providers__provider_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"provider_id","in":"path","required":true,"schema":{"type":"integer","title":"Provider Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/upstream-providers/{provider_id}/toggle":{"put":{"tags":["admin"],"summary":"Toggle Upstream Provider Status","description":"切换上游提供商状态","operationId":"toggle_upstream_provider_status_api_v1_admin_upstream_providers__provider_id__toggle_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"provider_id","in":"path","required":true,"schema":{"type":"integer","title":"Provider Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpstreamProviderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/product-mappings":{"get":{"tags":["admin"],"summary":"Get Product Mappings","description":"获取产品映射列表","operationId":"get_product_mappings_api_v1_admin_product_mappings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Size"}},{"name":"product_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"}},{"name":"provider_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Provider Id"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductMappingResponse"},"title":"Response Get Product Mappings Api V1 Admin Product Mappings Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Product Mapping","description":"创建产品映射","operationId":"create_product_mapping_api_v1_admin_product_mappings_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductMappingCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductMappingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/product-mappings/{mapping_id}":{"get":{"tags":["admin"],"summary":"Get Product Mapping","description":"获取产品映射详情","operationId":"get_product_mapping_api_v1_admin_product_mappings__mapping_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"integer","title":"Mapping Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductMappingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin"],"summary":"Update Product Mapping","description":"更新产品映射","operationId":"update_product_mapping_api_v1_admin_product_mappings__mapping_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"integer","title":"Mapping Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductMappingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductMappingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Product Mapping","description":"删除产品映射","operationId":"delete_product_mapping_api_v1_admin_product_mappings__mapping_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"integer","title":"Mapping Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/product-mappings/{mapping_id}/toggle":{"put":{"tags":["admin"],"summary":"Toggle Product Mapping Status","description":"切换产品映射状态","operationId":"toggle_product_mapping_status_api_v1_admin_product_mappings__mapping_id__toggle_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"integer","title":"Mapping Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductMappingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/proxy-products/{product_id}/mappings":{"get":{"tags":["admin"],"summary":"Get Product Mappings By Product","description":"获取指定产品的所有映射","operationId":"get_product_mappings_by_product_api_v1_admin_proxy_products__product_id__mappings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductMappingResponse"},"title":"Response Get Product Mappings By Product Api V1 Admin Proxy Products  Product Id  Mappings Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"APIKeyCreate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"rate_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rate Limit","default":1000}},"type":"object","title":"APIKeyCreate"},"APIKeyResponse":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"rate_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rate Limit","default":1000},"id":{"type":"integer","title":"Id"},"api_key":{"type":"string","title":"Api Key"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"}},"type":"object","required":["id","api_key","is_active","created_at"],"title":"APIKeyResponse"},"BalanceLogResponse":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"type":{"type":"string","title":"Type"},"amount":{"type":"string","title":"Amount"},"balance_before":{"type":"string","title":"Balance Before"},"balance_after":{"type":"string","title":"Balance After"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"related_order_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Related Order Id"},"admin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","user_id","type","amount","balance_before","balance_after","description","related_order_id","admin_id","created_at"],"title":"BalanceLogResponse"},"CryptoCurrency":{"type":"string","enum":["BTC","ETH","USDT","USDC"],"title":"CryptoCurrency"},"DynamicProxyPurchase":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"quantity":{"type":"integer","title":"Quantity","default":1}},"type":"object","required":["product_id"],"title":"DynamicProxyPurchase"},"FinanceStats":{"properties":{"total_revenue":{"type":"string","title":"Total Revenue"},"today_revenue":{"type":"string","title":"Today Revenue"},"week_revenue":{"type":"string","title":"Week Revenue"},"month_revenue":{"type":"string","title":"Month Revenue"},"total_users":{"type":"integer","title":"Total Users"},"active_users":{"type":"integer","title":"Active Users"},"order_stats":{"$ref":"#/components/schemas/OrderStats"},"payment_stats":{"$ref":"#/components/schemas/PaymentStats"}},"type":"object","required":["total_revenue","today_revenue","week_revenue","month_revenue","total_users","active_users","order_stats","payment_stats"],"title":"FinanceStats"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MobileProxyPurchase":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"package_id":{"type":"string","title":"Package Id"},"quantity":{"type":"integer","title":"Quantity","default":1}},"type":"object","required":["product_id","package_id"],"title":"MobileProxyPurchase"},"OrderList":{"properties":{"orders":{"items":{"$ref":"#/components/schemas/OrderResponse"},"type":"array","title":"Orders"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"}},"type":"object","required":["orders","total","page","size"],"title":"OrderList"},"OrderResponse":{"properties":{"id":{"type":"integer","title":"Id"},"order_number":{"type":"string","title":"Order Number"},"user_id":{"type":"integer","title":"User Id"},"type":{"$ref":"#/components/schemas/OrderType"},"amount":{"type":"string","title":"Amount"},"status":{"$ref":"#/components/schemas/OrderStatus"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"paid_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Paid At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["id","order_number","user_id","type","amount","status","description","created_at","updated_at","paid_at","completed_at"],"title":"OrderResponse"},"OrderStats":{"properties":{"total_orders":{"type":"integer","title":"Total Orders"},"total_amount":{"type":"string","title":"Total Amount"},"pending_orders":{"type":"integer","title":"Pending Orders"},"paid_orders":{"type":"integer","title":"Paid Orders"},"completed_orders":{"type":"integer","title":"Completed Orders"},"cancelled_orders":{"type":"integer","title":"Cancelled Orders"}},"type":"object","required":["total_orders","total_amount","pending_orders","paid_orders","completed_orders","cancelled_orders"],"title":"OrderStats"},"OrderStatus":{"type":"string","enum":["pending","paid","completed","cancelled","refunded"],"title":"OrderStatus"},"OrderType":{"type":"string","enum":["recharge","purchase"],"title":"OrderType"},"PasswordChange":{"properties":{"current_password":{"type":"string","title":"Current Password"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChange"},"PaymentCallback":{"properties":{"payment_id":{"type":"string","title":"Payment Id"},"transaction_hash":{"type":"string","title":"Transaction Hash"},"confirmations":{"type":"integer","title":"Confirmations"},"status":{"type":"string","title":"Status"}},"type":"object","required":["payment_id","transaction_hash","confirmations","status"],"title":"PaymentCallback"},"PaymentMethod":{"type":"string","enum":["crypto","bank","alipay","wechat"],"title":"PaymentMethod"},"PaymentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"payment_id":{"type":"string","title":"Payment Id"},"order_id":{"type":"integer","title":"Order Id"},"user_id":{"type":"integer","title":"User Id"},"method":{"$ref":"#/components/schemas/PaymentMethod"},"amount":{"type":"string","title":"Amount"},"currency":{"type":"string","title":"Currency"},"status":{"type":"string","title":"Status"},"crypto_currency":{"anyOf":[{"$ref":"#/components/schemas/CryptoCurrency"},{"type":"null"}]},"crypto_amount":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Crypto Amount"},"wallet_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Wallet Address"},"transaction_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transaction Hash"},"confirmations":{"type":"integer","title":"Confirmations"},"required_confirmations":{"type":"integer","title":"Required Confirmations"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"confirmed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Confirmed At"}},"type":"object","required":["id","payment_id","order_id","user_id","method","amount","currency","status","crypto_currency","crypto_amount","wallet_address","transaction_hash","confirmations","required_confirmations","expires_at","created_at","confirmed_at"],"title":"PaymentResponse"},"PaymentStats":{"properties":{"total_payments":{"type":"integer","title":"Total Payments"},"total_amount":{"type":"string","title":"Total Amount"},"crypto_payments":{"type":"integer","title":"Crypto Payments"},"crypto_amount":{"type":"string","title":"Crypto Amount"},"success_rate":{"type":"number","title":"Success Rate"}},"type":"object","required":["total_payments","total_amount","crypto_payments","crypto_amount","success_rate"],"title":"PaymentStats"},"ProductMappingCreate":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"provider_id":{"type":"integer","title":"Provider Id"},"upstream_product_code":{"type":"string","title":"Upstream Product Code"},"upstream_params":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Upstream Params"},"price_multiplier":{"type":"number","title":"Price Multiplier","default":1.0}},"type":"object","required":["product_id","provider_id","upstream_product_code"],"title":"ProductMappingCreate"},"ProductMappingResponse":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"provider_id":{"type":"integer","title":"Provider Id"},"upstream_product_code":{"type":"string","title":"Upstream Product Code"},"upstream_params":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Upstream Params"},"price_multiplier":{"type":"number","title":"Price Multiplier","default":1.0},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"product":{"anyOf":[{"$ref":"#/components/schemas/ProxyProductResponse"},{"type":"null"}]},"provider":{"anyOf":[{"$ref":"#/components/schemas/UpstreamProviderResponse"},{"type":"null"}]}},"type":"object","required":["product_id","provider_id","upstream_product_code","id","is_active","created_at"],"title":"ProductMappingResponse"},"ProductMappingUpdate":{"properties":{"upstream_product_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Upstream Product Code"},"upstream_params":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Upstream Params"},"price_multiplier":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price Multiplier"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ProductMappingUpdate"},"ProxyListResponse":{"properties":{"proxies":{"items":{"$ref":"#/components/schemas/ProxyOrderResponse"},"type":"array","title":"Proxies"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"}},"type":"object","required":["proxies","total","page","size"],"title":"ProxyListResponse"},"ProxyOrderResponse":{"properties":{"id":{"type":"integer","title":"Id"},"order_id":{"type":"string","title":"Order Id"},"product_id":{"type":"integer","title":"Product Id"},"upstream_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Upstream Id"},"proxy_info":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Proxy Info"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["id","order_id","product_id","status","created_at"],"title":"ProxyOrderResponse"},"ProxyProductCreate":{"properties":{"category":{"type":"string","title":"Category"},"subcategory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subcategory"},"provider":{"type":"string","title":"Provider"},"product_name":{"type":"string","title":"Product Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"type":"number","title":"Price"},"duration_days":{"type":"integer","title":"Duration Days"},"stock":{"type":"integer","title":"Stock","default":0}},"type":"object","required":["category","provider","product_name","price","duration_days"],"title":"ProxyProductCreate"},"ProxyProductResponse":{"properties":{"category":{"type":"string","title":"Category"},"subcategory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subcategory"},"provider":{"type":"string","title":"Provider"},"product_name":{"type":"string","title":"Product Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"type":"number","title":"Price"},"duration_days":{"type":"integer","title":"Duration Days"},"stock":{"type":"integer","title":"Stock","default":0},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["category","provider","product_name","price","duration_days","id","is_active","created_at"],"title":"ProxyProductResponse"},"ProxyProductUpdate":{"properties":{"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price"},"duration_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Days"},"stock":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Stock"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ProxyProductUpdate"},"ProxyStatsResponse":{"properties":{"total_proxies":{"type":"integer","title":"Total Proxies"},"active_proxies":{"type":"integer","title":"Active Proxies"},"expired_proxies":{"type":"integer","title":"Expired Proxies"},"by_category":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Category"},"by_provider":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Provider"}},"type":"object","required":["total_proxies","active_proxies","expired_proxies","by_category","by_provider"],"title":"ProxyStatsResponse"},"RechargeRequest":{"properties":{"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","description":"充值金额必须大于0"},"method":{"allOf":[{"$ref":"#/components/schemas/PaymentMethod"}],"default":"crypto"},"crypto_currency":{"anyOf":[{"$ref":"#/components/schemas/CryptoCurrency"},{"type":"null"}]}},"type":"object","required":["amount"],"title":"RechargeRequest"},"RechargeResponse":{"properties":{"order":{"$ref":"#/components/schemas/OrderResponse"},"payment":{"$ref":"#/components/schemas/PaymentResponse"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code"}},"type":"object","required":["order","payment"],"title":"RechargeResponse"},"SessionEnvelope":{"properties":{"token":{"type":"string","title":"Token"},"token_type":{"type":"string","title":"Token Type"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"user":{"$ref":"#/components/schemas/SessionUser"},"abilities":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Abilities"},"pages":{"additionalProperties":{"$ref":"#/components/schemas/SessionPageState"},"type":"object","title":"Pages"},"refreshed_at":{"type":"string","format":"date-time","title":"Refreshed At"}},"type":"object","required":["token","token_type","user","abilities","pages","refreshed_at"],"title":"SessionEnvelope","description":"封装统一的登录/状态响应。"},"SessionLogin":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"SessionLogin","description":"登录请求负载。"},"SessionLogoutResponse":{"properties":{"message":{"type":"string","title":"Message","default":"logged out"}},"type":"object","title":"SessionLogoutResponse","description":"登出响应。"},"SessionPageState":{"properties":{"allowed":{"type":"boolean","title":"Allowed"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","required":["allowed"],"title":"SessionPageState","description":"登录后单个页面的访问状态。"},"SessionUser":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active"},"is_admin":{"type":"boolean","title":"Is Admin"},"balance":{"type":"number","title":"Balance"}},"type":"object","required":["id","username","email","is_active","is_admin","balance"],"title":"SessionUser","description":"统一的前端用户描述。"},"StaticProxyPurchase":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"quantity":{"type":"integer","title":"Quantity","default":1},"protocol":{"type":"string","title":"Protocol","default":"HTTP"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username","default":"random"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","default":"random"},"provider":{"type":"string","title":"Provider"}},"type":"object","required":["product_id","provider"],"title":"StaticProxyPurchase"},"TransactionResponse":{"properties":{"id":{"type":"integer","title":"Id"},"transaction_id":{"type":"string","title":"Transaction Id"},"order_id":{"type":"integer","title":"Order Id"},"user_id":{"type":"integer","title":"User Id"},"type":{"type":"string","title":"Type"},"amount":{"type":"string","title":"Amount"},"balance_before":{"type":"string","title":"Balance Before"},"balance_after":{"type":"string","title":"Balance After"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","transaction_id","order_id","user_id","type","amount","balance_before","balance_after","description","created_at"],"title":"TransactionResponse"},"UpstreamProviderCreate":{"properties":{"name":{"type":"string","title":"Name"},"display_name":{"type":"string","title":"Display Name"},"api_type":{"type":"string","title":"Api Type"},"base_url":{"type":"string","title":"Base Url"},"api_key_param":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Param"},"api_key_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Value"},"config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Config"}},"type":"object","required":["name","display_name","api_type","base_url"],"title":"UpstreamProviderCreate"},"UpstreamProviderResponse":{"properties":{"name":{"type":"string","title":"Name"},"display_name":{"type":"string","title":"Display Name"},"api_type":{"type":"string","title":"Api Type"},"base_url":{"type":"string","title":"Base Url"},"api_key_param":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Param"},"api_key_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Value"},"config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Config"},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["name","display_name","api_type","base_url","id","is_active","created_at"],"title":"UpstreamProviderResponse"},"UpstreamProviderUpdate":{"properties":{"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"base_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Base Url"},"api_key_param":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Param"},"api_key_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Value"},"config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Config"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpstreamProviderUpdate"},"UserCreate":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","email","password"],"title":"UserCreate"},"UserResponse":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"id":{"type":"integer","title":"Id"},"balance":{"type":"number","title":"Balance"},"is_active":{"type":"boolean","title":"Is Active"},"is_admin":{"type":"boolean","title":"Is Admin"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["username","email","id","balance","is_active","is_admin","created_at"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}